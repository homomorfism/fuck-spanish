#!/bin/sh
# Pre-commit hook to check landing directory

echo "ğŸ” Checking landing directory..."

# Check if there are any changes in the landing directory
if git diff --cached --name-only | grep -q "^landing/"; then
  echo "ğŸ“ Changes detected in landing directory"
  
  # Change to landing directory
  cd landing || exit 1
  
  # Run lint check
  echo "ğŸ” Running ESLint..."
  npm run lint || {
    echo "âŒ ESLint check failed. Please fix the errors before committing."
    exit 1
  }
  
  # Run Prettier check
  echo "âœ¨ Checking code formatting..."
  npm run format:check || {
    echo "âŒ Prettier check failed. Run 'npm run format' in landing/ directory to fix formatting."
    exit 1
  }
  
  # Run TypeScript check
  echo "ğŸ”§ Checking TypeScript..."
  npx tsc --noEmit || {
    echo "âŒ TypeScript check failed. Please fix the errors before committing."
    exit 1
  }
  
  echo "âœ… All checks passed for landing directory!"
else
  echo "â„¹ï¸  No changes in landing directory, skipping checks"
fi

exit 0

